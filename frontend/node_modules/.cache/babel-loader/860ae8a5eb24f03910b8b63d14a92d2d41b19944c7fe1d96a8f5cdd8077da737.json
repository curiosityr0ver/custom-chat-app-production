{"ast":null,"code":"import{Button}from\"@chakra-ui/button\";import{FormControl,FormLabel}from\"@chakra-ui/form-control\";import{Input,InputGroup,InputRightElement}from\"@chakra-ui/input\";import{VStack}from\"@chakra-ui/layout\";import{useState}from\"react\";import axios from\"axios\";import{useToast}from\"@chakra-ui/react\";import{useHistory}from\"react-router-dom\";import{ChatState}from\"../../context/ChatProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[show,setShow]=useState(false);const handleClick=()=>setShow(!show);const toast=useToast();const[email,setEmail]=useState();const[password,setPassword]=useState();const[loading,setLoading]=useState(false);const history=useHistory();const{setUser}=ChatState();const submitHandler=async()=>{setLoading(true);if(!email||!password){toast({title:\"Please Fill all the Feilds\",status:\"warning\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);return;}try{const config={headers:{\"Content-type\":\"application/json\"}};const{data}=await axios.post(\"/api/user/login\",{email,password},config);toast({title:\"Login Successful\",status:\"success\",duration:5000,isClosable:true,position:\"bottom\"});setUser(data);localStorage.removeItem(\"userInfo\");localStorage.setItem(\"userInfo\",JSON.stringify(data));setLoading(false);history.push(\"/chats\");}catch(error){toast({title:\"Error Occured!\",description:error.response.data.message,status:\"error\",duration:5000,isClosable:true,position:\"bottom\"});setLoading(false);}};return/*#__PURE__*/_jsxs(VStack,{spacing:\"10px\",children:[/*#__PURE__*/_jsxs(FormControl,{id:\"email\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Input,{value:email,type:\"email\",placeholder:\"Enter Your Email Address\",onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(FormControl,{id:\"password\",isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{size:\"md\",children:[/*#__PURE__*/_jsx(Input,{value:password,onChange:e=>setPassword(e.target.value),type:show?\"text\":\"password\",placeholder:\"Enter password\"}),/*#__PURE__*/_jsx(InputRightElement,{width:\"4.5rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.75rem\",size:\"sm\",onClick:handleClick,children:show?\"Hide\":\"Show\"})})]})]}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",width:\"100%\",style:{marginTop:15},onClick:submitHandler,isLoading:loading,children:\"Login\"}),/*#__PURE__*/_jsx(Button,{variant:\"solid\",colorScheme:\"red\",width:\"100%\",onClick:()=>{setEmail(\"guest@example.com\");setPassword(\"123456\");},children:\"Get Guest User Credentials\"})]});};export default Login;","map":{"version":3,"names":["Button","FormControl","FormLabel","Input","InputGroup","InputRightElement","VStack","useState","axios","useToast","useHistory","ChatState","jsx","_jsx","jsxs","_jsxs","Login","show","setShow","handleClick","toast","email","setEmail","password","setPassword","loading","setLoading","history","setUser","submitHandler","title","status","duration","isClosable","position","config","headers","data","post","localStorage","removeItem","setItem","JSON","stringify","push","error","description","response","message","spacing","children","id","isRequired","value","type","placeholder","onChange","e","target","size","width","h","onClick","colorScheme","style","marginTop","isLoading","variant"],"sources":["C:/Users/mehta/OneDrive/Documents/custom-chat-app/frontend/src/components/authentication/Login.js"],"sourcesContent":["import { Button } from \"@chakra-ui/button\";\r\nimport { FormControl, FormLabel } from \"@chakra-ui/form-control\";\r\nimport { Input, InputGroup, InputRightElement } from \"@chakra-ui/input\";\r\nimport { VStack } from \"@chakra-ui/layout\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useToast } from \"@chakra-ui/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ChatState } from \"../../context/ChatProvider\";\r\n\r\nconst Login = () => {\r\n    const [show, setShow] = useState(false);\r\n    const handleClick = () => setShow(!show);\r\n    const toast = useToast();\r\n    const [email, setEmail] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const history = useHistory();\r\n    const { setUser } = ChatState();\r\n\r\n    const submitHandler = async () => {\r\n        setLoading(true);\r\n        if (!email || !password) {\r\n            toast({\r\n                title: \"Please Fill all the Feilds\",\r\n                status: \"warning\",\r\n                duration: 5000,\r\n                isClosable: true,\r\n                position: \"bottom\",\r\n            });\r\n            setLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const config = {\r\n                headers: {\r\n                    \"Content-type\": \"application/json\",\r\n                },\r\n            };\r\n\r\n            const { data } = await axios.post(\r\n                \"/api/user/login\",\r\n                { email, password },\r\n                config\r\n            );\r\n\r\n            toast({\r\n                title: \"Login Successful\",\r\n                status: \"success\",\r\n                duration: 5000,\r\n                isClosable: true,\r\n                position: \"bottom\",\r\n            });\r\n            setUser(data);\r\n            localStorage.removeItem(\"userInfo\");\r\n            localStorage.setItem(\"userInfo\", JSON.stringify(data));\r\n            setLoading(false);\r\n            history.push(\"/chats\");\r\n        } catch (error) {\r\n            toast({\r\n                title: \"Error Occured!\",\r\n                description: error.response.data.message,\r\n                status: \"error\",\r\n                duration: 5000,\r\n                isClosable: true,\r\n                position: \"bottom\",\r\n            });\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <VStack spacing=\"10px\">\r\n            <FormControl id=\"email\" isRequired>\r\n                <FormLabel>Email Address</FormLabel>\r\n                <Input\r\n                    value={email}\r\n                    type=\"email\"\r\n                    placeholder=\"Enter Your Email Address\"\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n            </FormControl>\r\n            <FormControl id=\"password\" isRequired>\r\n                <FormLabel>Password</FormLabel>\r\n                <InputGroup size=\"md\">\r\n                    <Input\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                        type={show ? \"text\" : \"password\"}\r\n                        placeholder=\"Enter password\"\r\n                    />\r\n                    <InputRightElement width=\"4.5rem\">\r\n                        <Button h=\"1.75rem\" size=\"sm\" onClick={handleClick}>\r\n                            {show ? \"Hide\" : \"Show\"}\r\n                        </Button>\r\n                    </InputRightElement>\r\n                </InputGroup>\r\n            </FormControl>\r\n            <Button\r\n                colorScheme=\"blue\"\r\n                width=\"100%\"\r\n                style={{ marginTop: 15 }}\r\n                onClick={submitHandler}\r\n                isLoading={loading}\r\n            >\r\n                Login\r\n            </Button>\r\n            <Button\r\n                variant=\"solid\"\r\n                colorScheme=\"red\"\r\n                width=\"100%\"\r\n                onClick={() => {\r\n                    setEmail(\"guest@example.com\");\r\n                    setPassword(\"123456\");\r\n                }}\r\n            >\r\n                Get Guest User Credentials\r\n            </Button>\r\n        </VStack>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}